<%- include('./partials/header') %>
<div class="w-full h-screen flex items-start px-10 py-10 gap-10">
    <!-- Cart Items Section -->
    <div class="w-[30%] space-y-6">
        <% user.cart.forEach(item => { %>
        <div class="bg-white rounded-lg shadow-lg p-4 flex flex-col gap-4 hover:shadow-xl transition-shadow">
            <div class="w-full h-48 overflow-hidden rounded-md">
                <!-- Base64 Image -->
                <img class="w-full h-full object-cover" src="data:image/jpeg;base64,<%= item.image.toString('base64') %>" alt="<%= item.name %>">
            </div>
            <div class="flex justify-between items-center">
                <!-- Product Name -->
                <h3 class="text-xl font-semibold text-gray-800 truncate max-w-[75%]"><%= item.name %></h3>
                <div class="flex items-center gap-2">
                    <!-- Quantity Control -->
                    <button class="w-8 h-8 bg-gray-100 rounded-full flex justify-center items-center text-gray-600 hover:bg-gray-200 transition-all">
                        <i class="ri-add-line"></i>
                    </button>
                    <div class="px-3 py-1 bg-gray-100 rounded-md text-gray-800">01</div>
                    <button class="w-8 h-8 bg-gray-100 rounded-full flex justify-center items-center text-gray-600 hover:bg-gray-200 transition-all">
                        <i class="ri-subtract-line"></i>
                    </button>
                </div>
            </div>
            <div class="flex justify-between items-center">
                <!-- Price Display -->
                <h4 class="text-lg text-gray-700 font-medium">₹ <%= item.price %></h4>
            </div>
        </div>
        <% }); %>
    </div>

    <!-- Price Breakdown Section -->
    <div class="w-[70%] bg-white rounded-lg shadow-lg p-8">
        <h3 class="text-2xl font-semibold mb-6">Price Breakdown</h3>
        <div class="space-y-4">
            <div class="flex justify-between">
                <h4 class="text-lg font-medium text-gray-600">Total MRP</h4>
                <h4 class="text-lg font-medium text-gray-800">₹ <%= user.cart.reduce((total, item) => total + item.price * 1.2, 0) %></h4>
            </div>
            <div class="flex justify-between">
                <h4 class="text-lg font-medium text-gray-600">Discount on MRP</h4>
                <h4 class="text-lg font-medium text-gray-800">₹ <%= user.cart.reduce((total, item) => total + (item.discount || 0), 0) %></h4>
            </div>
            <div class="flex justify-between">
                <h4 class="text-lg font-medium text-gray-600">Platform Fee</h4>
                <h4 class="text-lg font-medium text-gray-800">₹ 20</h4>
            </div>
            <div class="flex justify-between">
                <h4 class="text-lg font-medium text-gray-600">Shipping Fee</h4>
                <h4 class="text-lg font-medium text-gray-800">FREE</h4>
            </div>
        </div>
        <div class="w-full h-[1px] bg-gray-300 my-6"></div>
        <div class="flex justify-between items-center">
            <h3 class="text-xl font-semibold text-gray-700">Total Amount</h3>
            <h3 class="text-xl font-semibold text-green-600">₹ <%= user.cart.reduce((total, item) => total + item.price * 1.2, 0) + 20 %></h3>
        </div>
        <form action="" class="mt-6">
            <!-- Add a button for checkout (if needed) -->
            <button type="submit" class="w-full py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-all">
                Checkout
            </button>
        </form>
    </div>
</div>
<%- include('./partials/footer') %>
